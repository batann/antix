= 6.5. Colours and Cursor Movement With tput =

As with so many things in Unix, there is more than one way to achieve the same ends. A utility called tput can also be used to move the cursor around the screen, get back information about the status of the terminal, or set colours. man tput doesn't go into much detail about the available commands, but Emilio Lopes e-mailed me to point out that man terminfo will give you a huge list of capabilities, many of which are device independent, and therefore better than the escape sequences previously mentioned. He suggested that I rewrite all the examples using tput for this reason. He is correct that I should, but I've had some trouble controlling it and getting it to do everything I want it to. However, I did rewrite one prompt which you can see as an example: Section 12.8.

Here is a list of tput capabilities that I have found useful:

tput Colour Capabilities

tput setab [1-7]

    Set a background colour using ANSI escape
tput setb [1-7]

    Set a background colour
tput setaf [1-7]

    Set a foreground colour using ANSI escape
tput setf [1-7]

    Set a foreground colour

tput Text Mode Capabilities

tput bold

    Set bold mode
tput dim

    turn on half-bright mode
tput smul

    begin underline mode
tput rmul

    exit underline mode
tput rev

    Turn on reverse mode
tput smso

    Enter standout mode (bold on rxvt)
tput rmso

    Exit standout mode
tput sgr0

    Turn off all attributes (doesn't work quite as expected)

tput Cursor Movement Capabilities

tput cup Y X

    Move cursor to screen location X,Y (top left is 0,0)
tput sc

    Save the cursor position
tput rc

    Restore the cursor position
tput lines

    Output the number of lines of the terminal
tput cols

    Output the number of columns of the terminal
tput cub N

    Move N characters left
tput cuf N

    Move N characters right
tput cub1

    move left one space
tput cuf1

    non-destructive space (move right one space)
tput ll

    last line, first column (if no cup)
tput cuu1

    up one line

tput Clear and Insert Capabilities

tput ech N

    Erase N characters
tput clear

    clear screen and home cursor
tput el1

    Clear to beginning of line
tput el

    clear to end of line
tput ed

    clear to end of screen
tput ich N

    insert N characters (moves rest of line forward!)
tput il N

    insert N lines
	
	
	==== 1. Set the Cursor Position using tput cup ====

You can move the cursor to a specific row and column using tput cup. Following example positions the cursor at row 2 and column 3.

 tput cup 2 3

==== 2. Clear the Screen Using tput clear ====

If you are in middle of the terminal screen, tput clear will clear the screen and put you at the top of the terminal screen.

  tput clear

3. Get the Number of Columns and Lines of a Terminal

To display the number of columns of your terminal screen, do the following.

  tput cols

Following displays number of lines of your terminal screen.
``

 tput lines
``

==== 4. Execute Multiple tput Commands ====

tput allows you to run set of commands in a single time. For example, if you want to clear the screen and set cursor to a particular position, do the following.
``

 tput -S <<END
> clear
> cup 2 4
> END
``

==== 5. Change the Terminal Background Color using tput setb ====

Using tput, the background color of the screen can be changed as shown below.
``

 tput setb 4
``

Note: You can also change only your prompt color using Bash custom prompt PS1.
==== 6. Change the Foreground Color using tput setf ====

You can also change the foreground color of the terminal as shown below.
``

 tput setf 4
``

Note: If you set foreground and background to the same color you cannot see the cursor. So, to reset, execute “tput reset”.
==== 7. Turn On and Turn Off Highlighting ====

tput allows you to turn on and turn off the text high lighting. When you turn it ton, new text in the terminal gets bold.
``

 tput bold
``

When you turn it off, new text in the terminal returns to normal display.
``

 tput sgr0
``

In the below example, it bolds the particular text ‘guide’ by turning on and turning off highlighting accordingly.
``

 echo `tput bold`guide`tput sgr0`
guide
``

==== 8. Underline Text using smul and rmul ====

Start the underline mode:
``

 tput smul
``

Stop the underline mode:
``

 tput rmul
``

In the below example, it underlines the ‘guide’ text by using smul and rmul capabilities of tput.
``

 echo `tput smul`guide`tput rmul`
guide
``

==== 9. Hide and Unhide the Cursor using civis and cnorm ====

Hide the cursor:
``

 tput civis
``

Display the cursor:
``

 tput cnorm
``
 
